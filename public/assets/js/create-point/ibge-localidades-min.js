function getFetch(e,t){const o=document.querySelector(t);return"select[name=city] "==t&&(o.innerHTML="<option value>Selecione a Cidade</option>"),fetch(e).then(e=>e.json()).then(e=>{for(const t of e)o.innerHTML+=`<option value="${t.id}">${t.nome}</option>`}).catch(e=>{console.error("There has been a problem with your fetch operation:",e)}),o}function getState(){getFetch("https://servicodados.ibge.gov.br/api/v1/localidades/estados","select[name=uf] ")}function getCity(e){const t=`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${e.target.value}/municipios`,o=e.target.selectedIndex;document.querySelector("input[name=state] ").value=e.target.options[o].text,getFetch(t,"select[name=city] ")}getState(),document.querySelector("select[name=uf] ").addEventListener("change",getCity);